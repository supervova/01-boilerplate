# Типографика

## Вертикальный ритм

### Ключевые понятия

- **Вертикальный ритм** — это равномерное расстояние между строками текста и элементами на странице. Он делает чтение легче и дизайн — аккуратным.
- **Сетка базовой линии** — воображаемые горизонтальные линии, на которые “встают” строки текста. Как линейка в тетради.

### Проблема в CSS

Ни одно свойство стилей не может привязать текст к сетке базовой линии автоматически. Разные шрифты, отступы, размеры картинок и заголовков ломают ритм. Приходится вручную выравнивать всё под одинаковый шаг (обычно кратный `line-height`), что сложно без специальных приёмов.

Большие надежды возлагались на новое свойство `text-box-trim`. Однако оно обрезает пространство по метрикам шрифта, но не выравнивает базовые линии точно по сетке. Всё равно pixel-perfect ритм требует дополнительных вычислений.

Рабочий метод — задавать `line-height` кратным 8 пикселям (24, 32, 48 и т.д.) и вручную подбирать `padding-top` и `padding-bottom`, чтобы их сумма равнялась 8 пикселям, смещая базовую линию на нужную позицию. Однако этот процесс трудоемкий.

### Решение

- Создаем карту `$font-metrics` для базовых шрифтов проекта.
- Генерируем `padding` SCSS-миксином.

### В приложениях на React и пр. JS-фреймворках используем библиотеку Capsize CSS

> [!NOTE] Capsize CSS
> [Эта библиотека](https://seek-oss.github.io/capsize/) помогает сделать работу с размером и расположением текста более предсказуемой, используя метаданные шрифта для точного определения размеров текста по высоте заглавных букв.

```js
import { createStyleObject } from 'capsize';
import interMetrics from '@capsizecss/metrics/inter';

export const h1 = createStyleObject({
  capHeight: 40,
  lineGap: 8, // строка 48 px
  fontMetrics: interMetrics,
});
```

Выводит готовый CSS — отрицательные отступы `margin` превращает в положительный `padding`; работает во всех браузерах.
